app={site:$("html"),dialMarkup:'<div class="dial"><div class="pointer-x"></div><div class="pointer-y"></div></div>',bg:$(".color-bg"),dialPool:[],init:function(){app.setBgCheckerColors(203,100,50);app.addNewDial();app.halfDial=app.dial.width()/2;app.setMoveEvents()},addNewDial:function(e,t){var n=$(app.dialMarkup);app.dialPool.push(n);app.dial=app.dialPool[0];app.site.append(n)},setBgCheckerColors:function(e,t,n){app.bg.css("background-color","hsla("+e+", "+t+"%, "+n+"%, 1)")},setMoveEvents:function(){app.site.on("mousedown",function(e){app.enableMovement(e)});app.site.on("mouseup",function(e){app.disableMovement(e)})},enableMovement:function(e){TweenMax.to(app.dial,.2,{left:e.pageX,top:e.pageY});app.site.on("mousemove",function(e){app.onMove(e)})},disableMovement:function(e){app.site.off("mousemove")},onMove:function(e){var t=e.pageX>app.halfDial?e.pageX:app.halfDial,n=e.pageY>app.halfDial?e.pageY:app.halfDial;t>app.site.width()-app.halfDial&&(t=app.site.width()-app.halfDial);n>app.bg.height()-app.halfDial&&(n=app.bg.height()-app.halfDial);var r=app.dial.offset().left/(app.site.width()-app.halfDial*2),i=app.dial.offset().top/(app.bg.height()-app.halfDial*2),s=r*320-160,o=i*320-160;TweenMax.to(app.dial,.1,{left:t,top:n});TweenMax.to($(".pointer-x"),1,{rotation:s,transformOrigin:"47% bottom",ease:Back.easeOut});TweenMax.to($(".pointer-y"),1,{rotation:o,transformOrigin:"47% bottom",ease:Back.easeOut})}};$(app.init());